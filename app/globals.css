@tailwind base;
@tailwind components;
@tailwind utilities;

/* ================================================================
   DESIGN SYSTEM — Premium Dark Theme
   ================================================================ */

:root {
  /* ---- Background Layers ---- */
  --bg-primary:     #06080d;
  --bg-secondary:   #0d1117;
  --bg-tertiary:    #161b22;
  --bg-elevated:    #1c2128;
  --bg-glass:       rgba(13, 17, 23, 0.7);

  /* ---- Text Hierarchy ---- */
  --text-primary:   #e6edf3;
  --text-secondary: #8b949e;
  --text-muted:     #484f58;

  /* ---- Accent Spectrum ---- */
  --accent:         #388bfd;
  --accent-hover:   #58a6ff;
  --accent-subtle:  rgba(56, 139, 253, 0.12);
  --accent-glow:    rgba(56, 139, 253, 0.25);
  --accent-2:       #a371f7;
  --accent-2-subtle: rgba(163, 113, 247, 0.12);

  /* ---- Semantic ---- */
  --success:        #3fb950;
  --success-subtle: rgba(63, 185, 80, 0.12);
  --warning:        #d29922;
  --warning-subtle: rgba(210, 153, 34, 0.12);
  --danger:         #f85149;
  --danger-subtle:  rgba(248, 81, 73, 0.12);

  /* ---- Surfaces & Borders ---- */
  --border:         rgba(48, 54, 61, 0.6);
  --border-subtle:  rgba(33, 38, 45, 0.8);
  --border-accent:  rgba(56, 139, 253, 0.3);

  /* ---- Shadows ---- */
  --shadow-sm:      0 1px 2px rgba(0, 0, 0, 0.4), 0 0 1px rgba(0, 0, 0, 0.3);
  --shadow-md:      0 4px 16px rgba(0, 0, 0, 0.45), 0 0 1px rgba(0, 0, 0, 0.3);
  --shadow-lg:      0 12px 40px rgba(0, 0, 0, 0.55), 0 0 1px rgba(0, 0, 0, 0.3);
  --shadow-glow:    0 0 20px rgba(56, 139, 253, 0.15);

  /* ---- Radii ---- */
  --radius-sm:      6px;
  --radius-md:      10px;
  --radius-lg:      14px;
  --radius-xl:      20px;

  /* ---- Gradients ---- */
  --gradient-brand:   linear-gradient(135deg, #388bfd 0%, #a371f7 100%);
  --gradient-surface: linear-gradient(180deg, rgba(22, 27, 34, 0.8) 0%, rgba(13, 17, 23, 0.9) 100%);
  --gradient-shimmer: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.04) 50%, transparent 100%);
}

/* ================================================================
   BASE RESET & TYPOGRAPHY
   ================================================================ */

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  scroll-behavior: smooth;
  -webkit-text-size-adjust: 100%;
}

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
  letter-spacing: -0.01em;
  color: var(--text-primary);
  background-color: var(--bg-primary);
}

/* ================================================================
   PREMIUM SCROLLBAR
   ================================================================ */

::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--border);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--text-muted);
}

/* ================================================================
   FOCUS RING — Consistent accessible focus
   ================================================================ */

button:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
  box-shadow: var(--shadow-glow);
}

/* ================================================================
   GLASS CARD UTILITY
   ================================================================ */

.glass-card {
  background: var(--bg-glass);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid var(--border);
}

/* ================================================================
   KEYFRAME ANIMATIONS
   ================================================================ */

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to   { opacity: 1; }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.96);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50%      { opacity: 0.7; }
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

@keyframes shimmer {
  0%   { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

@keyframes gradientFlow {
  0%   { background-position: 0% 50%; }
  50%  { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes glowPulse {
  0%, 100% { box-shadow: 0 0 0 0 rgba(56, 139, 253, 0); }
  50%      { box-shadow: 0 0 16px 2px rgba(56, 139, 253, 0.15); }
}

/* Modal */
@keyframes modalFadeIn {
  from { opacity: 0; }
  to   { opacity: 1; }
}

@keyframes modalSlideUp {
  from {
    opacity: 0;
    transform: translateY(24px) scale(0.97);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* ================================================================
   ANIMATION UTILITY CLASSES
   ================================================================ */

.animate-slide-in {
  animation: slideIn 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-fade-in {
  animation: fadeIn 0.3s ease-out;
}

.animate-fade-in-up {
  animation: fadeInUp 0.35s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-scale-in {
  animation: scaleIn 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-pulse-subtle {
  animation: pulse 2s ease-in-out infinite;
}

.animate-shimmer {
  background: var(--gradient-shimmer);
  background-size: 200% 100%;
  animation: shimmer 2s ease-in-out infinite;
}

.animate-gradient {
  background-size: 200% 200%;
  animation: gradientFlow 6s ease infinite;
}

.animate-glow {
  animation: glowPulse 3s ease-in-out infinite;
}

/* Modal animation classes */
.modal-overlay {
  animation: modalFadeIn 0.2s ease-out;
}

.modal-content {
  animation: modalSlideUp 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ================================================================
   STAGGERED CARD ENTRANCE
   ================================================================ */

.stagger-1 { animation-delay: 0.05s; }
.stagger-2 { animation-delay: 0.10s; }
.stagger-3 { animation-delay: 0.15s; }
.stagger-4 { animation-delay: 0.20s; }

/* ================================================================
   DRAG & DROP
   ================================================================ */

.dragging {
  opacity: 0.5;
  transform: rotate(2deg) scale(1.02);
  cursor: grabbing !important;
  transition: none;
}

.drag-over {
  background: var(--accent-subtle) !important;
  border-color: var(--accent) !important;
  box-shadow: inset 0 0 0 1px var(--accent), var(--shadow-glow) !important;
}

/* ================================================================
   INTERACTIVE STATES
   ================================================================ */

.hover-lift {
  transition: transform 0.25s cubic-bezier(0.4, 0, 0.2, 1),
              box-shadow 0.25s cubic-bezier(0.4, 0, 0.2, 1),
              border-color 0.25s ease;
}

.hover-lift:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
  border-color: var(--border-accent);
}

.hover-lift:active {
  transform: translateY(0);
}

/* ================================================================
   PROGRESS BAR SHIMMER
   ================================================================ */

.progress-bar-fill {
  position: relative;
  overflow: hidden;
}

.progress-bar-fill::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.12) 50%,
    transparent 100%
  );
  background-size: 200% 100%;
  animation: shimmer 2.5s ease-in-out infinite;
}

/* ================================================================
   TASK CARD STYLES
   ================================================================ */

.task-card {
  transition: transform 0.25s cubic-bezier(0.4, 0, 0.2, 1),
              box-shadow 0.25s cubic-bezier(0.4, 0, 0.2, 1),
              border-color 0.25s ease;
}

.task-card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-md);
  border-color: rgba(56, 139, 253, 0.2);
}

.task-card:active {
  transform: translateY(0);
}

/* ================================================================
   TOUCH DEVICE OPTIMIZATIONS
   ================================================================ */

@media (pointer: coarse) {
  .task-card {
    min-height: 64px;
  }
  
  button, 
  .task-card {
    touch-action: manipulation;
  }

  .task-card:hover {
    transform: none;
    box-shadow: var(--shadow-sm);
  }
}

/* ================================================================
   RESPONSIVE BREAKPOINTS
   ================================================================ */

@media (max-width: 768px) {
  :root {
    --radius-lg: 12px;
    --radius-xl: 16px;
  }
}

/* ================================================================
   SELECTION STYLE
   ================================================================ */

::selection {
  background-color: rgba(56, 139, 253, 0.3);
  color: var(--text-primary);
}
